<!--
templateType: section
isAvailableForNewContent: true
label: Text/form section
description: A section displaying a text/form.
-->

{% dnd_section
  vertical_alignment="MIDDLE"
  background_color={{ context.section.background_color }}
  background_linear_gradient={{ context.section.background_linear_gradient }}
  background_image={{ context.section.background_image }}
  padding={{ context.section.padding }}
  class={{ context.section.class }}
%}
{% dnd_column width="12" %}
{% dnd_row %}
{% dnd_module 
  path='../../modules/background-items' 
  background_item={{ context.background_items.background_item }}
  style={{ context.background_item.style ? 
    context.background_item.style : {
      'animate_module': False,
      'module_animation': {
        'animate_module_scale': False,
        'animate_module_vertical_translation': False,
        'animate_module_skew': True,
        'animate_module_opacity': True
      }
    }
  }}
%}
{% end_dnd_module %}
{% end_dnd_row %}
{% dnd_row vertical_alignment="TOP" %}
{% dnd_column width={{ context.text_block_width ? context.text_block_width : 4 }} offset={{ context.text_block_offset ? context.text_block_offset : 0 }} %}
{% dnd_row %}
{% dnd_module 
  path='../../modules/custom-rich-text' 
  style={{ context.text.style ? context.text.style : {
        'xs': {
          'spacing': {
            'margin': { 'top': { 'value': 0, 'units': 'px' }, 'bottom': { 'value': 0, 'units': 'px' } },
            'padding': { 'top': { 'value': 0, 'units': 'px' }, 'bottom': { 'value': 0, 'units': 'px' }, 'left': { 'value': 0,  'units': 'px' }, 'right': { 'value': 0, 'units': 'px' } }
          },
          'text_alignment': 'center'
        },
        'md': {
          'spacing': {
            'margin': { 'top': { 'value': 0, 'units': 'px' }, 'bottom': { 'value': 0, 'units': 'px' } },
            'padding': { 'top': { 'value': 0, 'units': 'px' }, 'bottom': { 'value': 0, 'units': 'px' }, 'left': { 'value': 0,  'units': 'px' }, 'right': { 'value': 0, 'units': 'px' } }
          },
          'text_alignment': 'left'
        },
        'xl': {
          'spacing': {
            'margin': { 'top': { 'value': 0, 'units': 'px' }, 'bottom': { 'value': 0, 'units': 'px' } },
            'padding': { 'top': { 'value': 0, 'units': 'px' }, 'bottom': { 'value': 0, 'units': 'px' }, 'left': { 'value': 0,  'units': 'px' }, 'right': { 'value': 0, 'units': 'px' } }
          },
          'text_alignment': 'left'
        }
      }
    }}
%}
{% module_attribute "html" %}
{{ context.text.content ? context.text.content : '<h2 style="color: {{ theme.colors.first.color }};">Contactez-nous</h2><p>Vous souhaitez aller vite !<br>Des formulaires spécifiques existent pour ces demandes:</p><p><a href="">- Déclarer votre nouvelle adresse</a><br><a href="">- Changer de produit gaz</a><br><a href="">- Changer de produit électricité</a><p>Pour toutes autres demandes, remplissez le formulaire de contact.</p>' }}
{% end_module_attribute %}
{% end_dnd_module %}
{% end_dnd_row %}
{% end_dnd_column %}
{% dnd_column width={{ context.form_block_width ? context.form_block_width : 8 }} offset={{ context.image_block_offset ? context.image_block_offset : 4 }} %}
{% dnd_row %}
{% dnd_module 
    path='../modules/custom-form'
    form={{ context.form.form }}
    make_multistep_form = {{ context.form.make_multistep_form ? context.form.make_multistep_form : False }}
    add_timeline_step = {{ context.form.add_timeline_step ? context.form.add_timeline_step : False }}
    step={{ context.form.step ? context.form.step : [
        {
          'add_step_title': True,
          'step_title' : 'À propos de vous',
          'number_of_fields_in_this_step': 3
        },
        {
          'add_step_title': True,
          'step_title' : 'À propos de votre entreprise',
          'number_of_fields_in_this_step': 4
        },
        {
          'add_step_title': True,
          'step_title' : 'Et pour finir',
          'number_of_fields_in_this_step': 2
        }
      ]
    }}
    style={{ context.form.style }}

%}
{% end_dnd_module %}
{% end_dnd_row %}
{% end_dnd_column %}
{% end_dnd_row %}
{% end_dnd_column %}
{% end_dnd_section %}
